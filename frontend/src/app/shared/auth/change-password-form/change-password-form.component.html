<app-main-toolbar [drawer]="false" />
<form class="center-content" (ngSubmit)="onSubmit()" [formGroup]="form">
    <mat-card>
        <mat-card-header>
            <mat-card-title>Zmiana hasła</mat-card-title>
        </mat-card-header>
        <mat-card-content>
            <mat-form-field class="full-width">
                <mat-label>Stare hasło</mat-label>
                <input matInput type="password" formControlName="old_password" required>
                @if (form.controls['old_password'].hasError('required')) {
                <mat-error>Hasło jest <strong>wymagane</strong></mat-error>
                }
            </mat-form-field>
            <mat-form-field class="full-width">
                <mat-label>Nowe hasło</mat-label>
                <input matInput type="password" formControlName="new_password" required>
                @if (form.controls['new_password'].hasError('required')) {
                <mat-error>Hasło jest <strong>wymagane</strong></mat-error>
                }
                @if (form.controls['new_password'].hasError('passwordStrength')) {
                <mat-error>Hasło zawierać przynajmniej jedną <strong>małą i dużą literę oraz
                        cyfrę</strong></mat-error>
                }
                @if (form.controls['new_password'].hasError('minlength')) {
                <mat-error>Hasło musi mieć minimum <strong>8 znaków</strong></mat-error>
                }
            </mat-form-field>
            <mat-form-field class="full-width">
                <mat-label>Ponownie nowe hasło</mat-label>
                <input matInput type="password" formControlName="new_password2" required>
                @if (form.controls['new_password2'].hasError('required')) {
                <mat-error>Hasło jest <strong>wymagane</strong></mat-error>
                }
                @if (form.controls['new_password2'].hasError('equals')) {
                <mat-error>Podane hasła <strong>różnią</strong> się</mat-error>
                }
            </mat-form-field>
        </mat-card-content>
        <mat-card-actions align="end">
            <button mat-raised-button routerLink="/">Anuluj</button>
            <button mat-raised-button color="primary" type="submit" [disabled]="!form.valid">Zmień</button>
        </mat-card-actions>
    </mat-card>
</form>